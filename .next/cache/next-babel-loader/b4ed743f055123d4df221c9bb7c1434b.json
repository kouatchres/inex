{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React from 'react';\nimport { concat } from 'apollo-link';\n\nvar uniqueCodeGen = function uniqueCodeGen(keyLength) {\n  var i,\n      key = '',\n      //  characters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  characters = 'abcdefghijklmnopqrstuvwxyzABCDEF@#$%&GHIJKLMNOPQRSTUVWXYZ0123456789';\n  var charactersLength = characters.length;\n\n  for (i = 0; i < keyLength; i++) {\n    key += characters.substr(Math.floor(Math.random() * charactersLength + 1), 1);\n  }\n\n  return key;\n};\n\nvar objectFromCode = function objectFromCode(codeValue) {\n  var storedObject = {\n    candCode: \"\".concat(codeValue)\n  };\n  return storedObject;\n};\n\nvar getObjectFromID = function getObjectFromID(suppliedID) {\n  var theObject = {\n    id: \"\".concat(suppliedID)\n  };\n  return theObject;\n};\n\nvar centerExamSessionObjectFromCode = function centerExamSessionObjectFromCode(codeValue) {\n  var storedObject = {\n    centerExamSession: \"\".concat(codeValue)\n  };\n  return storedObject;\n};\n\nvar candExamSessionCode = function candExamSessionCode(candID, examID, sessionID) {\n  return \"\".concat(candID + examID + sessionID);\n};\n\nvar getSelectedObject = function getSelectedObject(dataSource, objectID) {\n  // 1 copy the data source\n  if (dataSource.length > 0) {\n    var tempObjects = _toConsumableArray(dataSource); // get the object\n\n\n    var selectedObject = tempObjects.find(function (item) {\n      return item.id === objectID;\n    });\n    return selectedObject;\n  }\n}; // function to model a number with leading zeroes\n\n\nNumber.prototype.pad = function (size) {\n  var s = String(this);\n\n  while (s.length < (size || 2)) {\n    s = '0' + s;\n  }\n\n  return s;\n};\n\nvar calcCandAve = function calcCandAve(candScores) {\n  var aveTotal = candScores && candScores.reduce(function (tally, item) {\n    return tally + item.subjectAve * item.coeff;\n  }, 0);\n  var coeffTotal = candScores.reduce(function (tally, item) {\n    return item.subjectAve === null ? tally : tally + item.coeff;\n  }, 0);\n  var candAve = aveTotal / coeffTotal;\n  return candAve;\n};\n\nvar calcCandTotalScore = function calcCandTotalScore(candScores) {\n  var aveTotal = candScores && candScores.reduce(function (tally, item) {\n    return tally + item.subjectAve * item.coeff;\n  }, 0);\n  return aveTotal;\n};\n\nvar calcCandTotalCoeff = function calcCandTotalCoeff(candScores) {\n  var coeffTotal = candScores && candScores.reduce(function (tally, item) {\n    return item.subjectAve === null ? tally : tally + item.coeff;\n  }, 0);\n  return coeffTotal;\n};\n\nvar roundFloatNumber = function roundFloatNumber(value, decimals) {\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);\n};\n\nvar removeTypename = function removeTypename(value) {\n  if (value === null || value === undefined) {\n    return value;\n  } else if (Array.isArray(value)) {\n    return value.map(function (v) {\n      return removeTypename(v);\n    });\n  } else if (typeof value === 'object') {\n    var newObj = {};\n    Object.entries(value).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          v = _ref2[1];\n\n      if (key !== '__typename') {\n        newObj[key] = removeTypename(v);\n      }\n    });\n    return newObj;\n  }\n\n  return value;\n};\n\nvar uploadFile = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n    var files, data, res, file;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            files = e.target.files;\n            data = new FormData();\n            data.append('file', files[0]);\n            data.append('upload_preset', 'ineximages');\n            _context.next = 6;\n            return fetch('https://api.cloudinary.com/v1_1/inex/image/upload', {\n              method: 'POST',\n              body: data\n            });\n\n          case 6:\n            res = _context.sent;\n            _context.next = 9;\n            return res.json();\n\n          case 9:\n            file = _context.sent;\n            console.log(file); // this.setState({ image: file.secure_url });\n\n            setState({\n              image: file.secure_url\n            });\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function uploadFile(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nexport { candExamSessionCode, roundFloatNumber, calcCandTotalScore, calcCandTotalCoeff, calcCandAve, objectFromCode, uniqueCodeGen, getSelectedObject, getObjectFromID, removeTypename, uploadFile, centerExamSessionObjectFromCode };","map":{"version":3,"sources":["E:/SYGEFEX/Sygefex-front-Formik/src/components/queries&Mutations&Functions/Functions.jsx"],"names":["React","concat","uniqueCodeGen","keyLength","i","key","characters","charactersLength","length","substr","Math","floor","random","objectFromCode","codeValue","storedObject","candCode","getObjectFromID","suppliedID","theObject","id","centerExamSessionObjectFromCode","centerExamSession","candExamSessionCode","candID","examID","sessionID","getSelectedObject","dataSource","objectID","tempObjects","selectedObject","find","item","Number","prototype","pad","size","s","String","calcCandAve","candScores","aveTotal","reduce","tally","subjectAve","coeff","coeffTotal","candAve","calcCandTotalScore","calcCandTotalCoeff","roundFloatNumber","value","decimals","round","removeTypename","undefined","Array","isArray","map","v","newObj","Object","entries","forEach","uploadFile","e","files","target","data","FormData","append","fetch","method","body","res","json","file","console","log","setState","image","secure_url"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { concat } from 'apollo-link'\r\n\r\n\r\nconst uniqueCodeGen = keyLength => {\r\n  var i,\r\n    key = '',\r\n    //  characters = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    characters =\r\n      'abcdefghijklmnopqrstuvwxyzABCDEF@#$%&GHIJKLMNOPQRSTUVWXYZ0123456789'\r\n\r\n  var charactersLength = characters.length\r\n\r\n  for (i = 0; i < keyLength; i++) {\r\n    key += characters.substr(\r\n      Math.floor(Math.random() * charactersLength + 1),\r\n      1,\r\n    )\r\n  }\r\n\r\n  return key\r\n}\r\n\r\nconst objectFromCode = codeValue => {\r\n  const storedObject = {\r\n    candCode: `${codeValue}`,\r\n  }\r\n  return storedObject\r\n}\r\n\r\nconst getObjectFromID = suppliedID => {\r\n  const theObject = {\r\n    id: `${suppliedID}`,\r\n  }\r\n  return theObject\r\n}\r\n\r\nconst centerExamSessionObjectFromCode = codeValue => {\r\n  const storedObject = {\r\n    centerExamSession: `${codeValue}`,\r\n  }\r\n  return storedObject\r\n}\r\n\r\nconst candExamSessionCode = (candID, examID, sessionID) => {\r\n  return `${candID + examID + sessionID}`\r\n}\r\n\r\nconst getSelectedObject = (dataSource, objectID) => {\r\n  // 1 copy the data source\r\n  if (dataSource.length > 0) {\r\n    const tempObjects = [...dataSource]\r\n    // get the object\r\n    const selectedObject = tempObjects.find(item => item.id === objectID)\r\n    return selectedObject\r\n  }\r\n}\r\n// function to model a number with leading zeroes\r\nNumber.prototype.pad = function (size) {\r\n  var s = String(this)\r\n  while (s.length < (size || 2)) {\r\n    s = '0' + s\r\n  }\r\n  return s\r\n}\r\n\r\nconst calcCandAve = candScores => {\r\n  const aveTotal =\r\n    candScores &&\r\n    candScores.reduce((tally, item) => tally + item.subjectAve * item.coeff, 0)\r\n  const coeffTotal = candScores.reduce(\r\n    (tally, item) => (item.subjectAve === null ? tally : tally + item.coeff),\r\n    0,\r\n  )\r\n  const candAve = aveTotal / coeffTotal\r\n  return candAve\r\n}\r\nconst calcCandTotalScore = candScores => {\r\n  const aveTotal =\r\n    candScores &&\r\n    candScores.reduce((tally, item) => tally + item.subjectAve * item.coeff, 0)\r\n  return aveTotal\r\n}\r\nconst calcCandTotalCoeff = candScores => {\r\n  const coeffTotal =\r\n    candScores &&\r\n    candScores.reduce(\r\n      (tally, item) => (item.subjectAve === null ? tally : tally + item.coeff),\r\n      0,\r\n    )\r\n  return coeffTotal\r\n}\r\nconst roundFloatNumber = (value, decimals) => {\r\n  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals)\r\n}\r\nconst removeTypename = (value) => {\r\n  if (value === null || value === undefined) {\r\n    return value;\r\n  } else if (Array.isArray(value)) {\r\n    return value.map(v => removeTypename(v));\r\n  } else if (typeof value === 'object') {\r\n    const newObj = {};\r\n    Object.entries(value).forEach(([key, v]) => {\r\n      if (key !== '__typename') {\r\n        newObj[key] = removeTypename(v);\r\n      }\r\n    });\r\n    return newObj;\r\n  }\r\n  return value;\r\n};\r\n\r\nconst uploadFile = async (e) => {\r\n  const files = e.target.files;\r\n  const data = new FormData();\r\n  data.append('file', files[0]);\r\n  data.append('upload_preset', 'ineximages');\r\n  const res = await fetch('https://api.cloudinary.com/v1_1/inex/image/upload', {\r\n    method: 'POST',\r\n    body: data\r\n  });\r\n  const file = await res.json();\r\n  console.log(file);\r\n  // this.setState({ image: file.secure_url });\r\n  setState({ image: file.secure_url })\r\n}\r\n\r\nexport {\r\n  candExamSessionCode,\r\n  roundFloatNumber,\r\n  calcCandTotalScore,\r\n  calcCandTotalCoeff,\r\n  calcCandAve,\r\n  objectFromCode,\r\n  uniqueCodeGen,\r\n  getSelectedObject,\r\n  getObjectFromID,\r\n  removeTypename,\r\n  uploadFile,\r\n  centerExamSessionObjectFromCode,\r\n}\r\n"]},"metadata":{},"sourceType":"module"}